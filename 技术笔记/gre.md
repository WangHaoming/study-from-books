# 概念

GRE（Generic Routing Encapsulation，通用路由封装）是一种隧道协议，用于在两个网络设备之间封装任意网络层协议的数据包，并通过一个公用网络（通常是 IP 网络）进行传输。简单来说，GRE 隧道就是在两个设备之间建立一个虚拟的点对点连接，用于承载被封装的网络流量。

GRE是网络层协议，就是传统上我们说的IP层协议。


# GRE 的工作原理

- 封装
> 发送端设备将原始的网络层数据包（比如一个 IPv4 数据包）封装到 GRE 包中，GRE 包会添加一个 GRE 头，再由外层 IP 头封装，形成一个新的 IP 数据包。

- 传输
> 这个封装后的数据包通过互联网或其他 IP 网络传输，数据包的目的地址是对端 GRE 设备的公网 IP。

- 解封装
> 接收端收到封装后的 IP 包后，根据 GRE 协议头识别出里面被封装的原始数据包，然后将其解封装，还原出原始的网络层数据包，并将其发送到目标网络。


# 举例说明

